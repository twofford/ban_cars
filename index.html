<!DOCTYPE html>

<html lang="en">

<head>

    <title>CARS KILL NYC</title>

    <link rel="stylesheet" href="src/styles/all.css">

    <script async src="https://kit.fontawesome.com/7543c6b46d.js" crossorigin="anonymous"></script>

</head>

<body>

    <div id="spinner" class="visible">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
    </div>

    <header>

    <h1>cars kill nyc</h1>

    <div id="modals-container">
    
        <button id="modal-btn-1" class="modal-btn">what is this?</button>
        
        <div id="modal-1" class="modal">
        
            <div class="modal-content">
                <span id="close-1" class="close">&times;</span>
                <br>
                <span><strong>CARS KILL NYC</strong> is a data visualization designed to show how many New Yorkers are injured or killed by cars each day in New York City. These injuries and deaths are completely avoidable. In a city like New York, where public transit is widely accesible and bicycles are a realistic commuting option, we don't need cars to get around most of the time. Data for <strong>CARS KILL NYC</strong> is collected from <a href="https://data.cityofnewyork.us/Public-Safety/Motor-Vehicle-Collisions-Crashes/h9gi-nx95" target="_blank">NYC Open Data</a>. This data only reflects crashes reported to the NYPD. It is updated daily.</span>
            </div>
        
        </div>

        <button id="modal-btn-2" class="modal-btn">how it works</button>
        
        <div id="modal-2" class="modal">
        
            <div class="modal-content">
                <span id="close-2" class="close">&times;</span>
                <br>
                <span>Choose a date and borough from the boxes below and click the button marked "show collisions." Collisions from that day will be marked on the map. Hover over a collision for more details about it. The chart to the left shows the leading causes of collisions that day. </span>
            </div>
        
        </div>

        <button id="modal-btn-3" class="modal-btn">about me</button>
        
        <div id="modal-3" class="modal">
        
            <div class="modal-content">
                <span id="close-3" class="close">&times;</span>
                <br>
                <span>My name is Taylor Wofford. I'm a software developer based in NYC. I enjoy riding my bike around the city, but wish it was safer. You can get in touch with me in the following places:</span>
                <br><br>
                <span class="icons"><a href="https://www.linkedin.com/in/taylor-wofford-931b3695/" target="_blank"><i class="fab fa-linkedin"></i></a> <a href="https://angel.co/u/taylor-wofford" target="_blank"><i class="fab fa-angellist"></i></a> <a href="https://github.com/twofford" target="_blank"><i class="fab fa-github"></i></a></span>
                <br><br>
                <span>You can also email me at taylor dot wofford at gmail dot com.</span>
            </div>
        
        </div>

        <div id="modal-4" class="modal">
        
            <div id="no-data" class="modal-content">
                <span id="close-4" class="close">&times;</span>
                <br>
                <span>There were no collisions for that date/borough combination. Try another date/borough combination.</span>
            </div>
        
        </div>

    </div>

    </header>

    <form id="form">

        <div class="form-wrapper">

            <input id="crash-date-input" onfocus="this.type='date'" placeholder="Select date" value="">

            <select id="borough-dropdown" placeholder="Select borough">

                <option id="select-borough-default" value="" disabled selected>Select borough</option>
            
                <option id="all-boroughs"
                    value="AND (borough='BRONX' OR borough='BROOKLYN' OR borough='MANHATTAN' OR borough='QUEENS' OR borough='STATEN ISLAND')">
                    All boroughs
                </option>
            
                <option id="bronx" value="AND borough='BRONX'">Bronx</option>
            
                <option id="brooklyn" value="AND borough='BROOKLYN'">Brooklyn</option>
            
                <option id="manhattan" value="AND borough='MANHATTAN'">Manhattan</option>
            
                <option id="queens" value="AND borough='QUEENS'">Queens</option>
            
                <option id="staten" value="AND borough='STATEN ISLAND'">Staten Island</option>
            
            </select>

        </div>
        
        <button type="button" class="btn" onclick="getUserInput()">show collisions</button>
    
    </form>

    <div id="infowindow">
        <p id="time"></p>
        <p id="injuries"></p>
        <p id="deaths"></p>
        <p id="vehicles-involved"></p>
        <p id="contributing-factors"></p>
    </div>

    <div id="map">
        <div id="barchart">
            <div class="date-display">Leading causes of death/injury*</div>
            <br>
            <div class="asterisk">*Not including 'Unspecified'</div>
        </div>
        
    </div>

    <div id="contact">
        <a href="https://www.linkedin.com/in/taylor-wofford-931b3695/" target="_blank"><i class="fab fa-linkedin"></i></a>
        <a href="https://angel.co/u/taylor-wofford" target="_blank"><i class="fab fa-angellist"></i></a>
        <a href="https://github.com/twofford" target="_blank"><i class="fab fa-github"></i></a>
    </div>

    <script src="src/scripts/toggle_modals.js"></script>

    <script src="https://d3js.org/d3.v5.min.js"></script>

    <script src="src/scripts/draw_map.js"></script>

    <script src="src/scripts/draw_barchart.js"></script>

    <script src="src/scripts/new_scripts.js"></script>

    <!-- <script src="src/scripts/update_crashes.js"></script> -->
    

</body>

</html>